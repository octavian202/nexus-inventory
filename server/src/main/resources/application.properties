spring.application.name=nexus-inventory-server
spring.config.import=optional:file:.env[.properties]

# Database Configuration
# Use port 5432 (session mode); 6543 (transaction mode) can cause "Unable to commit" with Spring/JDBC
spring.datasource.url=jdbc:postgresql://aws-1-eu-central-2.pooler.supabase.com:5432/postgres
spring.datasource.username=postgres.xojmcunbrdwgrcldqxdf
spring.datasource.password=${POSTGRES_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
# HikariCP: validate connections (helps with pooler/network)
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.validation-timeout=3000

# JPA / Hibernate
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Validation
spring.jpa.properties.javax.persistence.validation.mode=auto

# Auth / Supabase (configure via env in real deployment)
# auth.jwt.jwks-uri=https://<your-project>.supabase.co/auth/v1/keys
# auth.jwt.issuer=https://<your-project>.supabase.co/auth/v1
